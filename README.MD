# åŸºäºgo-cqhttpçš„æœºå™¨äººè„šæ‰‹æ¶  

ç›®å‰åªæ¥å—ç¾¤èŠå’Œç§èŠæ¶ˆæ¯  
é¡¹ç›®çš„ç›®çš„åœ¨äºåšä¸€ä¸ªå¯æ‰©å±•/ç»´æŠ¤çš„qqæœºå™¨äººæ’ä»¶æ¡†æ¶  
å…¶ä»–çš„APIå’ŒEVENTå¯¹æ¥ï¼Ÿï¼Œåœ¨ğŸ¦Œä¸Šäº†ï¼Œæ²¡äº‹çš„æ—¶å€™æ…¢æ…¢åš

## ä½¿ç”¨æ–¹æ³•  

1. å®‰è£…  
`go get github.com/afraidjpg/qq-robot-go`
2. ä¸‹è½½ [go-cqhttp](https://github.com/Mrs4s/go-cqhttp/releases)  
3. å¯åŠ¨ `go-cqhttp`
4. æ ¹æ®[æ ·ä¾‹](./config.example.yaml)åœ¨é¡¹ç›®ä¸­åˆ›å»ºä¸€ä»½é…ç½®æ–‡ä»¶å¹¶å‘½åä¸º`config.yaml`ï¼Œæˆ–è€…é¦–æ¬¡æ‰§è¡Œä¼šåˆ›å»ºä¸€ä»½é»˜è®¤é…ç½®
5. è¿è¡Œä½ çš„ç¨‹åº

## Example

ç¤ºä¾‹å¯åŠ¨
```go
import app "github.com/afraidjpg/qq-robot-go"
import "github.com/afraidjpg/qq-robot-go/src/example"

func main() {
    loadPlugin := []app.PluginFunc{
        example.ExamplePlugin,
		// ä½ çš„æ’ä»¶
    }
    loadTask := []app.CronTask{
        example.NewExampleTask(),
		// ä½ çš„å®šæ—¶ä»»åŠ¡
    }
    
    
    app.AddPlugin(loadPlugin)
    app.AddTask(loadTask)
    app.StartApp()
}
```  

## æ’ä»¶å¼€å‘

```go
import app "github.com/afraidjpg/qq-robot-go"
import "github.com/afraidjpg/qq-robot-go/msg"

func ExampleEntry(*msg.RecvNormalMsg) {
	// ä½ çš„é€»è¾‘...
	msg.SendGroupMsg(123456, "hello word ç¾¤å¯¹è±¡")
	msg.SendPrivateMsg(654321, "hello word ç§èŠå¯¹è±¡")
}


func main() {
    loadPlugin := []app.PluginFunc{
        ExampleEntry,
        // ä½ çš„æ’ä»¶
    }
    
    app.AddPlugin(loadPlugin)
    app.StartApp()
}

```


## å®šæ—¶ä»»åŠ¡
```go
import app "github.com/afraidjpg/qq-robot-go"
import "github.com/afraidjpg/qq-robot-go/msg"

// å®šæ—¶ä»»åŠ¡éœ€è¦å®ç° CronTask æ¥å£
type ExampleTask struct {
}

func (e *ExampleTask) GetTaskName() string {
	return "æµ‹è¯•ä»»åŠ¡"
}
func (e *ExampleTask) GetCrontabString() string {
	// ç§’çº§å®šæ—¶ä»»åŠ¡
	// ç›¸æ¯”linuxç³»ç»Ÿçš„crontabå¤šäº†ä¸€ä½ï¼Œæœ€å·¦ä½ä¸ºç§’ï¼Œå…¶ä»–è§„åˆ™ä¸linuxçš„crontabè§„åˆ™ä¸€è‡´
	// å½“å‰ä¸ºï¼Œæ¯äº”ç§’æ‰§è¡Œä¸€æ¬¡
	return "*/5 * * * * *"
}

func (e *ExampleTask) Entry() {
	msg.SendPrivateMsg(123456, "æµ‹è¯•æ¶ˆæ¯")
}

func NewExampleTask() *ExampleTask {
	return new(ExampleTask)
}

func main() {
    loadPlugin := []app.PluginFunc{
    ExampleEntry,
    // ä½ çš„æ’ä»¶
    }
    
    app.AddPlugin(loadPlugin)
    app.StartApp()
}

```

## å·²å†…ç½®çš„åŠŸèƒ½ 

| åŠŸèƒ½ | æ–‡ä»¶ | å¤‡æ³¨ |
| --- | --- | --- |
| åŸç¥-ç±³æ¸¸ç¤¾ç­¾åˆ° | [miyoushe_sign.go](./src/common/mihoyo/miyoushe_sign.go) | ç­¾åˆ°æ¥å£ header åŠ å¯†éƒ¨åˆ†å€Ÿé‰´è‡ª [è¿™é‡Œ](https://github.com/sirodeneko/genshin-sign/blob/master/genshin.py) |
| æ¶©å›¾-Lolicon API | [lolicon_api.go](./src/common/setu_api/lolicon_api.go) | [API å®˜ç½‘](https://api.lolicon.app/#/setu) |
| å¤è¯»æœº | [fixed.go](./src/common/repeater/fixed.go) | å›ºå®šå‡ ç‡çš„å¤è¯»æœºï¼Œåˆå§‹æ¦‚ç‡ä¸º0.1% |